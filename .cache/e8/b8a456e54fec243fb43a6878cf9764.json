{"id":"BXY3","dependencies":[{"name":"C:\\Users\\nashaw\\Documents\\my-widget\\package.json","includedInParent":true,"mtime":1654868134902},{"name":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\package.json","includedInParent":true,"mtime":499162500000},{"name":"tslib","loc":{"line":1,"column":48,"index":48},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\tslib\\tslib.es6.js"},{"name":"framesync","loc":{"line":2,"column":44,"index":101},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framesync\\dist\\es\\index.mjs"},{"name":"popmotion","loc":{"line":3,"column":20,"index":134},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\popmotion\\dist\\es\\index.mjs"},{"name":"../../animation/animate.mjs","loc":{"line":4,"column":24,"index":171},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\animation\\animate.mjs"},{"name":"../../utils/subscription-manager.mjs","loc":{"line":5,"column":36,"index":238},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\utils\\subscription-manager.mjs"},{"name":"../animation/mix-values.mjs","loc":{"line":6,"column":26,"index":304},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\animation\\mix-values.mjs"},{"name":"../geometry/copy.mjs","loc":{"line":7,"column":28,"index":363},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\geometry\\copy.mjs"},{"name":"../geometry/delta-apply.mjs","loc":{"line":8,"column":76,"index":463},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\geometry\\delta-apply.mjs"},{"name":"../geometry/delta-calc.mjs","loc":{"line":9,"column":80,"index":574},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\geometry\\delta-calc.mjs"},{"name":"../geometry/delta-remove.mjs","loc":{"line":10,"column":36,"index":640},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\geometry\\delta-remove.mjs"},{"name":"../geometry/models.mjs","loc":{"line":11,"column":39,"index":711},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\geometry\\models.mjs"},{"name":"../../animation/utils/transitions.mjs","loc":{"line":12,"column":35,"index":772},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\animation\\utils\\transitions.mjs"},{"name":"../geometry/utils.mjs","loc":{"line":13,"column":39,"index":852},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\geometry\\utils.mjs"},{"name":"../shared/stack.mjs","loc":{"line":14,"column":26,"index":903},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\shared\\stack.mjs"},{"name":"../styles/scale-correction.mjs","loc":{"line":15,"column":32,"index":958},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\styles\\scale-correction.mjs"},{"name":"../styles/transform.mjs","loc":{"line":16,"column":41,"index":1033},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\styles\\transform.mjs"},{"name":"../utils/each-axis.mjs","loc":{"line":17,"column":25,"index":1085},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\utils\\each-axis.mjs"},{"name":"../utils/has-transform.mjs","loc":{"line":18,"column":39,"index":1150},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\utils\\has-transform.mjs"},{"name":"../../render/html/utils/transform.mjs","loc":{"line":19,"column":30,"index":1210},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\render\\html\\utils\\transform.mjs"},{"name":"../../render/utils/flat-tree.mjs","loc":{"line":20,"column":25,"index":1276},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\render\\utils\\flat-tree.mjs"},{"name":"../../value/utils/resolve-motion-value.mjs","loc":{"line":21,"column":35,"index":1347},"parent":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\projection\\node\\create-projection-node.mjs","resolved":"C:\\Users\\nashaw\\Documents\\my-widget\\node_modules\\framer-motion\\dist\\es\\value\\utils\\resolve-motion-value.mjs"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.createProjectionNode=A,exports.globalProjectionState=void 0,exports.mixAxis=b,exports.mixAxisDelta=C,exports.mixBox=M;var t=require(\"tslib\"),e=S(require(\"framesync\")),i=require(\"popmotion\"),o=require(\"../../animation/animate.mjs\"),a=require(\"../../utils/subscription-manager.mjs\"),r=require(\"../animation/mix-values.mjs\"),s=require(\"../geometry/copy.mjs\"),n=require(\"../geometry/delta-apply.mjs\"),l=require(\"../geometry/delta-calc.mjs\"),h=require(\"../geometry/delta-remove.mjs\"),u=require(\"../geometry/models.mjs\"),c=require(\"../../animation/utils/transitions.mjs\"),p=require(\"../geometry/utils.mjs\"),d=require(\"../shared/stack.mjs\"),v=require(\"../styles/scale-correction.mjs\"),m=require(\"../styles/transform.mjs\"),y=require(\"../utils/each-axis.mjs\"),f=require(\"../utils/has-transform.mjs\"),g=require(\"../../render/html/utils/transform.mjs\"),T=require(\"../../render/utils/flat-tree.mjs\"),x=require(\"../../value/utils/resolve-motion-value.mjs\");function P(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(P=function(t){return t?i:e})(t)}function S(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||\"object\"!=typeof t&&\"function\"!=typeof t)return{default:t};var i=P(e);if(i&&i.has(t))return i.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(\"default\"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var s=a?Object.getOwnPropertyDescriptor(t,r):null;s&&(s.get||s.set)?Object.defineProperty(o,r,s):o[r]=t[r]}return o.default=t,i&&i.set(t,o),o}var B=1e3,j={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function A(i){var y=i.attachResizeListener,P=i.defaultParent,S=i.measureScroll,A=i.resetTransform;return function(){function i(e,i,o){var a=this;void 0===i&&(i={}),void 0===o&&(o=null==P?void 0:P()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){a.isUpdating&&(a.isUpdating=!1,a.clearAllSnapshots())},this.updateProjection=function(){a.nodes.forEach(U),a.nodes.forEach(F)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?(0,t.__spreadArray)((0,t.__spreadArray)([],(0,t.__read)(o.path),!1),[o],!1):[],this.parent=o,this.depth=o?o.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var r=0;r<this.path.length;r++)this.path[r].shouldResetTransform=!0;this.root===this&&(this.nodes=new T.FlatTree)}return i.prototype.addEventListener=function(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new a.SubscriptionManager),this.eventHandlers.get(t).add(e)},i.prototype.notifyListeners=function(e){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=this.eventHandlers.get(e);null==a||a.notify.apply(a,(0,t.__spreadArray)([],(0,t.__read)(i),!1))},i.prototype.hasListeners=function(t){return this.eventHandlers.has(t)},i.prototype.registerPotentialNode=function(t,e){this.potentialNodes.set(t,e)},i.prototype.mount=function(e,i){var o,a=this;if(void 0===i&&(i=!1),!this.instance){this.isSVG=e instanceof SVGElement&&\"svg\"!==e.tagName,this.instance=e;var r=this.options,s=r.layoutId,n=r.layout,l=r.visualElement;if(l&&!l.getInstance()&&l.mount(e),this.root.nodes.add(this),null===(o=this.parent)||void 0===o||o.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),i&&(n||s)&&(this.isLayoutDirty=!0),y){var h,u=function(){return a.root.updateBlockedByResize=!1};y(e,function(){a.root.updateBlockedByResize=!0,clearTimeout(h),h=window.setTimeout(u,250),j.hasAnimatedSinceResize&&(j.hasAnimatedSinceResize=!1,a.nodes.forEach(k))})}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&l&&(s||n)&&this.addEventListener(\"didUpdate\",function(e){var i,o,r,s,n,h=e.delta,u=e.hasLayoutChanged,d=e.hasRelativeTargetChanged,v=e.layout;if(a.isTreeAnimationBlocked())return a.target=void 0,void(a.relativeTarget=void 0);var m=null!==(o=null!==(i=a.options.transition)&&void 0!==i?i:l.getDefaultTransition())&&void 0!==o?o:w,y=l.getProps(),f=y.onLayoutAnimationStart,g=y.onLayoutAnimationComplete,T=!a.targetLayout||!(0,p.boxEquals)(a.targetLayout,v)||d,x=!u&&d;if((null===(r=a.resumeFrom)||void 0===r?void 0:r.instance)||x||u&&(T||!a.currentAnimation)){a.resumeFrom&&(a.resumingFrom=a.resumeFrom,a.resumingFrom.resumingFrom=void 0),a.setAnimationOrigin(h,x);var P=(0,t.__assign)((0,t.__assign)({},(0,c.getValueTransition)(m,\"layout\")),{onPlay:f,onComplete:g});l.shouldReduceMotion&&(P.delay=0,P.type=!1),a.startAnimation(P)}else u||0!==a.animationProgress||a.finishAnimation(),a.isLead()&&(null===(n=(s=a.options).onExitComplete)||void 0===n||n.call(s));a.targetLayout=v})}},i.prototype.unmount=function(){var t,i;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(t=this.getStack())||void 0===t||t.remove(this),null===(i=this.parent)||void 0===i||i.children.delete(this),this.instance=void 0,e.cancelSync.preRender(this.updateProjection)},i.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},i.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},i.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},i.prototype.isTreeAnimationBlocked=function(){var t;return this.isAnimationBlocked||(null===(t=this.parent)||void 0===t?void 0:t.isTreeAnimationBlocked())||!1},i.prototype.startUpdate=function(){var t;this.isUpdateBlocked()||(this.isUpdating=!0,null===(t=this.nodes)||void 0===t||t.forEach(_))},i.prototype.willUpdate=function(t){var e,i,o;if(void 0===t&&(t=!0),this.root.isUpdateBlocked())null===(i=(e=this.options).onExitComplete)||void 0===i||i.call(e);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var a=0;a<this.path.length;a++){var r=this.path[a];r.shouldResetTransform=!0,r.updateScroll()}var s=this.options,n=s.layoutId,l=s.layout;if(void 0!==n||l){var h=null===(o=this.options.visualElement)||void 0===o?void 0:o.getProps().transformTemplate;this.prevTransformTemplateValue=null==h?void 0:h(this.latestValues,\"\"),this.updateSnapshot(),t&&this.notifyListeners(\"willUpdate\")}}},i.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(R);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(I),this.potentialNodes.clear()),this.nodes.forEach(E),this.nodes.forEach(D),this.nodes.forEach(V),this.clearAllSnapshots(),e.flushSync.update(),e.flushSync.preRender(),e.flushSync.render())},i.prototype.clearAllSnapshots=function(){this.nodes.forEach(L),this.sharedNodes.forEach(O)},i.prototype.scheduleUpdateProjection=function(){e.default.preRender(this.updateProjection,!1,!0)},i.prototype.scheduleCheckAfterUnmount=function(){var t=this;e.default.postRender(function(){t.isLayoutDirty?t.root.didUpdate():t.root.checkUpdateFailed()})},i.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var t=this.measure(),e=this.removeTransform(this.removeElementScroll(t));z(e),this.snapshot={measured:t,layout:e,latestValues:{}}}},i.prototype.updateLayout=function(){var t;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e=0;e<this.path.length;e++){this.path[e].updateScroll()}var i=this.measure();z(i);var o=this.layout;this.layout={measured:i,actual:this.removeElementScroll(i)},this.layoutCorrected=(0,u.createBox)(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners(\"measure\",this.layout.actual),null===(t=this.options.visualElement)||void 0===t||t.notifyLayoutMeasure(this.layout.actual,null==o?void 0:o.actual)}},i.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=S(this.instance))},i.prototype.resetTransform=function(){var t;if(A){var e=this.isLayoutDirty||this.shouldResetTransform,i=this.projectionDelta&&!(0,p.isDeltaZero)(this.projectionDelta),o=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate,a=null==o?void 0:o(this.latestValues,\"\"),r=a!==this.prevTransformTemplateValue;e&&(i||(0,f.hasTransform)(this.latestValues)||r)&&(A(this.instance,a),this.shouldResetTransform=!1,this.scheduleRender())}},i.prototype.measure=function(){var t=this.options.visualElement;if(!t)return(0,u.createBox)();var e=t.measureViewportBox(),i=this.root.scroll;return i&&((0,n.translateAxis)(e.x,i.x),(0,n.translateAxis)(e.y,i.y)),e},i.prototype.removeElementScroll=function(t){var e=(0,u.createBox)();(0,s.copyBoxInto)(e,t);for(var i=0;i<this.path.length;i++){var o=this.path[i],a=o.scroll,r=o.options;o!==this.root&&a&&r.layoutScroll&&((0,n.translateAxis)(e.x,a.x),(0,n.translateAxis)(e.y,a.y))}return e},i.prototype.applyTransform=function(t,e){void 0===e&&(e=!1);var i=(0,u.createBox)();(0,s.copyBoxInto)(i,t);for(var o=0;o<this.path.length;o++){var a=this.path[o];!e&&a.options.layoutScroll&&a.scroll&&a!==a.root&&(0,n.transformBox)(i,{x:-a.scroll.x,y:-a.scroll.y}),(0,f.hasTransform)(a.latestValues)&&(0,n.transformBox)(i,a.latestValues)}return(0,f.hasTransform)(this.latestValues)&&(0,n.transformBox)(i,this.latestValues),i},i.prototype.removeTransform=function(t){var e,i=(0,u.createBox)();(0,s.copyBoxInto)(i,t);for(var o=0;o<this.path.length;o++){var a=this.path[o];if(a.instance&&(0,f.hasTransform)(a.latestValues)){(0,f.hasScale)(a.latestValues)&&a.updateSnapshot();var r=(0,u.createBox)(),n=a.measure();(0,s.copyBoxInto)(r,n),(0,h.removeBoxTransforms)(i,a.latestValues,null===(e=a.snapshot)||void 0===e?void 0:e.layout,r)}}return(0,f.hasTransform)(this.latestValues)&&(0,h.removeBoxTransforms)(i,this.latestValues),i},i.prototype.setTargetDelta=function(t){this.targetDelta=t,this.root.scheduleUpdateProjection()},i.prototype.setOptions=function(e){var i;this.options=(0,t.__assign)((0,t.__assign)((0,t.__assign)({},this.options),e),{crossfade:null===(i=e.crossfade)||void 0===i||i})},i.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},i.prototype.resolveTargetDelta=function(){var t,e=this.options,i=e.layout,o=e.layoutId;this.layout&&(i||o)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=(0,u.createBox)(),this.relativeTargetOrigin=(0,u.createBox)(),(0,l.calcRelativePosition)(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),(0,s.copyBoxInto)(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target=(0,u.createBox)(),this.targetWithTransforms=(0,u.createBox)()),this.relativeTarget&&this.relativeTargetOrigin&&(null===(t=this.relativeParent)||void 0===t?void 0:t.target)?(0,l.calcRelativeBox)(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):(0,s.copyBoxInto)(this.target,this.layout.actual),(0,n.applyBoxDelta)(this.target,this.targetDelta)):(0,s.copyBoxInto)(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=(0,u.createBox)(),this.relativeTargetOrigin=(0,u.createBox)(),(0,l.calcRelativePosition)(this.relativeTargetOrigin,this.target,this.relativeParent.target),(0,s.copyBoxInto)(this.relativeTarget,this.relativeTargetOrigin)))))},i.prototype.getClosestProjectingParent=function(){if(this.parent&&!(0,f.hasTransform)(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},i.prototype.calcProjection=function(){var t,e=this.options,i=e.layout,o=e.layoutId;if(this.isTreeAnimating=Boolean((null===(t=this.parent)||void 0===t?void 0:t.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(i||o)){var a=this.getLead();(0,s.copyBoxInto)(this.layoutCorrected,this.layout.actual),(0,n.applyTreeDeltas)(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==a);var r=a.target;if(r){this.projectionDelta||(this.projectionDelta=(0,u.createDelta)(),this.projectionDeltaWithTransform=(0,u.createDelta)());var h=this.treeScale.x,c=this.treeScale.y,p=this.projectionTransform;(0,l.calcBoxDelta)(this.projectionDelta,this.layoutCorrected,r,this.latestValues),this.projectionTransform=(0,m.buildProjectionTransform)(this.projectionDelta,this.treeScale),this.projectionTransform===p&&this.treeScale.x===h&&this.treeScale.y===c||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners(\"projectionUpdate\",r))}}},i.prototype.hide=function(){this.isVisible=!1},i.prototype.show=function(){this.isVisible=!0},i.prototype.scheduleRender=function(t){var e,i,o;void 0===t&&(t=!0),null===(i=(e=this.options).scheduleRender)||void 0===i||i.call(e),t&&(null===(o=this.getStack())||void 0===o||o.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},i.prototype.setAnimationOrigin=function(e,i){var o,a=this;void 0===i&&(i=!1);var s=this.snapshot,n=(null==s?void 0:s.latestValues)||{},h=(0,t.__assign)({},this.latestValues),c=(0,u.createDelta)();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!i;var p=(0,u.createBox)(),d=null==s?void 0:s.isShared,v=((null===(o=this.getStack())||void 0===o?void 0:o.members.length)||0)<=1,m=Boolean(d&&!v&&!0===this.options.crossfade&&!this.path.some(q));this.animationProgress=0,this.mixTargetDelta=function(t){var i,o=t/1e3;C(c.x,e.x,o),C(c.y,e.y,o),a.setTargetDelta(c),a.relativeTarget&&a.relativeTargetOrigin&&a.layout&&(null===(i=a.relativeParent)||void 0===i?void 0:i.layout)&&((0,l.calcRelativePosition)(p,a.layout.actual,a.relativeParent.layout.actual),M(a.relativeTarget,a.relativeTargetOrigin,p,o)),d&&(a.animationValues=h,(0,r.mixValues)(h,n,a.latestValues,o,m,v)),a.root.scheduleUpdateProjection(),a.scheduleRender(),a.animationProgress=o},this.mixTargetDelta(0)},i.prototype.startAnimation=function(i){var a,r,s=this;this.notifyListeners(\"animationStart\"),null===(a=this.currentAnimation)||void 0===a||a.stop(),this.resumingFrom&&(null===(r=this.resumingFrom.currentAnimation)||void 0===r||r.stop()),this.pendingAnimation&&(e.cancelSync.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=e.default.update(function(){j.hasAnimatedSinceResize=!0,s.currentAnimation=(0,o.animate)(0,B,(0,t.__assign)((0,t.__assign)({},i),{onUpdate:function(t){var e;s.mixTargetDelta(t),null===(e=i.onUpdate)||void 0===e||e.call(i,t)},onComplete:function(){var t;null===(t=i.onComplete)||void 0===t||t.call(i),s.completeAnimation()}})),s.resumingFrom&&(s.resumingFrom.currentAnimation=s.currentAnimation),s.pendingAnimation=void 0})},i.prototype.completeAnimation=function(){var t;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(t=this.getStack())||void 0===t||t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners(\"animationComplete\")},i.prototype.finishAnimation=function(){var t;this.currentAnimation&&(null===(t=this.mixTargetDelta)||void 0===t||t.call(this,B),this.currentAnimation.stop()),this.completeAnimation()},i.prototype.applyTransformsToTarget=function(){var t=this.getLead(),e=t.targetWithTransforms,i=t.target,o=t.layout,a=t.latestValues;e&&i&&o&&((0,s.copyBoxInto)(e,i),(0,n.transformBox)(e,a),(0,l.calcBoxDelta)(this.projectionDeltaWithTransform,this.layoutCorrected,e,a))},i.prototype.registerSharedNode=function(t,e){var i,o,a;this.sharedNodes.has(t)||this.sharedNodes.set(t,new d.NodeStack),this.sharedNodes.get(t).add(e),e.promote({transition:null===(i=e.options.initialPromotionConfig)||void 0===i?void 0:i.transition,preserveFollowOpacity:null===(a=null===(o=e.options.initialPromotionConfig)||void 0===o?void 0:o.shouldPreserveFollowOpacity)||void 0===a?void 0:a.call(o,e)})},i.prototype.isLead=function(){var t=this.getStack();return!t||t.lead===this},i.prototype.getLead=function(){var t;return this.options.layoutId&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this},i.prototype.getPrevLead=function(){var t;return this.options.layoutId?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0},i.prototype.getStack=function(){var t=this.options.layoutId;if(t)return this.root.sharedNodes.get(t)},i.prototype.promote=function(t){var e=void 0===t?{}:t,i=e.needsReset,o=e.transition,a=e.preserveFollowOpacity,r=this.getStack();r&&r.promote(this,a),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})},i.prototype.relegate=function(){var t=this.getStack();return!!t&&t.relegate(this)},i.prototype.resetRotation=function(){var t=this.options.visualElement;if(t){for(var e=!1,i={},o=0;o<g.transformAxes.length;o++){var a=\"rotate\"+g.transformAxes[o];t.getStaticValue(a)&&(e=!0,i[a]=t.getStaticValue(a),t.setStaticValue(a,0))}if(e){for(var a in null==t||t.syncRender(),i)t.setStaticValue(a,i[a]);t.scheduleRender()}}},i.prototype.getProjectionStyles=function(t){var e,i,o,a,r,s;void 0===t&&(t={});var n={};if(!this.instance||this.isSVG)return n;if(!this.isVisible)return{visibility:\"hidden\"};n.visibility=\"\";var l=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,n.opacity=\"\",n.pointerEvents=(0,x.resolveMotionValue)(t.pointerEvents)||\"\",n.transform=l?l(this.latestValues,\"\"):\"none\",n;var h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){var u={};return this.options.layoutId&&(u.opacity=null!==(i=this.latestValues.opacity)&&void 0!==i?i:1,u.pointerEvents=(0,x.resolveMotionValue)(t.pointerEvents)||\"\"),this.hasProjected&&!(0,f.hasTransform)(this.latestValues)&&(u.transform=l?l({},\"\"):\"none\",this.hasProjected=!1),u}var c=h.animationValues||h.latestValues;this.applyTransformsToTarget(),n.transform=(0,m.buildProjectionTransform)(this.projectionDeltaWithTransform,this.treeScale,c),l&&(n.transform=l(c,n.transform));var p=this.projectionDelta,d=p.x,y=p.y;for(var g in n.transformOrigin=\"\".concat(100*d.origin,\"% \").concat(100*y.origin,\"% 0\"),h.animationValues?n.opacity=h===this?null!==(a=null!==(o=c.opacity)&&void 0!==o?o:this.latestValues.opacity)&&void 0!==a?a:1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:n.opacity=h===this?null!==(r=c.opacity)&&void 0!==r?r:\"\":null!==(s=c.opacityExit)&&void 0!==s?s:0,v.scaleCorrectors)if(void 0!==c[g]){var T=v.scaleCorrectors[g],P=T.correct,S=T.applyTo,B=P(c[g],h);if(S)for(var j=S.length,A=0;A<j;A++)n[S[A]]=B;else n[g]=B}return this.options.layoutId&&(n.pointerEvents=h===this?(0,x.resolveMotionValue)(t.pointerEvents)||\"\":\"none\"),n},i.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},i.prototype.resetTree=function(){this.root.nodes.forEach(function(t){var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()}),this.root.nodes.forEach(R),this.root.sharedNodes.clear()},i}()}function D(t){t.updateLayout()}function V(t){var e,i,o,a,r=null!==(i=null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)&&void 0!==i?i:t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners(\"didUpdate\")){var s=t.layout,n=s.actual,h=s.measured;\"size\"===t.options.animationType?(0,y.eachAxis)(function(t){var e=r.isShared?r.measured[t]:r.layout[t],i=(0,l.calcLength)(e);e.min=n[t].min,e.max=e.min+i}):\"position\"===t.options.animationType&&(0,y.eachAxis)(function(t){var e=r.isShared?r.measured[t]:r.layout[t],i=(0,l.calcLength)(n[t]);e.max=e.min+i});var c=(0,u.createDelta)();(0,l.calcBoxDelta)(c,n,r.layout);var d=(0,u.createDelta)();r.isShared?(0,l.calcBoxDelta)(d,t.applyTransform(h,!0),r.measured):(0,l.calcBoxDelta)(d,n,r.layout);var v=!(0,p.isDeltaZero)(c),m=!1;if(!t.resumeFrom&&(t.relativeParent=t.getClosestProjectingParent(),t.relativeParent&&!t.relativeParent.resumeFrom)){var f=t.relativeParent,g=f.snapshot,T=f.layout;if(g&&T){var x=(0,u.createBox)();(0,l.calcRelativePosition)(x,r.layout,g.layout);var P=(0,u.createBox)();(0,l.calcRelativePosition)(P,n,T.actual),(0,p.boxEquals)(x,P)||(m=!0)}}t.notifyListeners(\"didUpdate\",{layout:n,snapshot:r,delta:d,layoutDelta:c,hasLayoutChanged:v,hasRelativeTargetChanged:m})}else t.isLead()&&(null===(a=(o=t.options).onExitComplete)||void 0===a||a.call(o));t.options.transition=void 0}function L(t){t.clearSnapshot()}function R(t){t.clearMeasurements()}function E(t){var e=t.options.visualElement;(null==e?void 0:e.getProps().onBeforeLayoutMeasure)&&e.notifyBeforeLayoutMeasure(),t.resetTransform()}function k(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function U(t){t.resolveTargetDelta()}function F(t){t.calcProjection()}function _(t){t.resetRotation()}function O(t){t.removeLeadSnapshot()}function C(t,e,o){t.translate=(0,i.mix)(e.translate,0,o),t.scale=(0,i.mix)(e.scale,1,o),t.origin=e.origin,t.originPoint=e.originPoint}function b(t,e,o,a){t.min=(0,i.mix)(e.min,o.min,a),t.max=(0,i.mix)(e.max,o.max,a)}function M(t,e,i,o){b(t.x,e.x,i.x,o),b(t.y,e.y,i.y,o)}function q(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}exports.globalProjectionState=j;var w={duration:.45,ease:[.4,0,.1,1]};function I(t,e){for(var i=t.root,o=t.path.length-1;o>=0;o--)if(Boolean(t.path[o].instance)){i=t.path[o];break}var a=(i&&i!==t.root?i.instance:document).querySelector('[data-projection-id=\"'.concat(e,'\"]'));a&&t.mount(a,!0)}function N(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function z(t){N(t.x),N(t.y)}"},"sourceMaps":null,"error":null,"hash":"f279204ae034d6cd2370c6db946b9eaa","cacheData":{"env":{}}}